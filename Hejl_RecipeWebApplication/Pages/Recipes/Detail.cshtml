@page "{id}"
@model Hejl_RecipeWebApplication.Pages.Recipes.DetailModel

@{
    Layout = "_layout";
}

<h1>@Model.Recipe?.Title</h1>

<div>
    <h3>Created on</h3>
    <p>@Model.Recipe.CreatedAt</p>
</div>

<div class="img-container">
    <h3>Image</h3>
    <img src="@Model.Recipe?.ImageUrl" alt="Recipe Image" class="recipe-image" />
</div>

<div>
    <h3>Description</h3>
    <p>@Model.Recipe?.Description</p>
</div>

<div>
    <h3>Ingredients</h3>
    <p>@Model.Recipe?.Ingredients</p>
</div>

<div>
    <h3>Instructions</h3>
    <p>@Model.Recipe?.Instructions</p>
</div>

<div>
    <h3>Reviews</h3>
    @if (Model.Reviews.Any())
    {
        <ul>
            @foreach (var review in Model.Reviews)
            {
                <li>
                    <strong>@review.Author</strong> - <small>@review.CreatedAt.ToString("dd.MM.yyyy")</small><br />
                    ⭐ @review.Rating / 5 <br />
                    <p>@review.Comment</p>

                    <a href="@Url.Page("/Reviews/Delete", new { id = review.Id })" class="btn btn-delete">Delete</a>
                    <a href="@Url.Page("/Reviews/Edit", new { id = review.Id })" class="btn btn-edit">Edit</a>
                </li>
            }
        </ul>
    }
    else
    {
        <p>No reviews yet. Be the first to review!</p>
    }
</div>

<style>
    .btn-delete {
        background-color: #dc3545;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        text-decoration: none;
        font-size: 0.9rem;
    }

        .btn-delete:hover {
            background-color: #b02a37;
        }

    .btn-edit {
        background-color: cornflowerblue;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        text-decoration: none;
        font-size: 0.9rem;
    }

        .btn-edit:hover {
            background-color: deepskyblue;
        }

    .img-container img {
        display: flex;
        justify-self: center;
        width: 60%;
        height: 480px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 10px;
    }

</style>

